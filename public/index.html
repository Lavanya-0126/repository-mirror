<!DOCTYPE html>
<html>
<head>
  <title>GitHub Repo Analyzer</title>
  <style>
    body { font-family: Arial; background:#0b1220; color:white; padding:40px }
    input { width:70%; padding:12px }
    button { padding:12px 20px }
    .card { background:#111827; padding:20px; border-radius:10px; margin-top:30px }
    .score { color:#22c55e; font-size:24px; font-weight:bold }
  </style>
</head>
<body>

<h1>GitHub Repository Analyzer</h1>

<input id="repo" placeholder="https://github.com/user/repo">
<button onclick="analyze()">Analyze</button>

<div id="result" class="card" style="display:none">
  <div class="score" id="score"></div>
  <p><b>Summary:</b> <span id="summary"></span></p>
  <p><b>Roadmap:</b></p>
  <ul id="roadmap"></ul>
</div>

<script>
async function analyze() {
  const repoUrl = document.getElementById("repo").value;

  const res = await fetch("/api/analyze", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ repoUrl })
  });

  const data = await res.json();

  document.getElementById("result").style.display = "block";
  document.getElementById("score").innerText = "Score: " + data.score + "/100";
  document.getElementById("summary").innerText = data.summary;

  const ul = document.getElementById("roadmap");
  ul.innerHTML = "";
  data.roadmap.forEach(r => {
    const li = document.createElement("li");
    li.innerText = r;
    ul.appendChild(li);
  });
}
</script>

</body>
</html>
