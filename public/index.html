<!DOCTYPE html>
<html>
<head>
  <title>GitHub Repo Analyzer</title>
</head>
<body>

<h2>GitHub Repository Analyzer</h2>

<input id="repo" placeholder="https://github.com/user/repo" size="50">
<button onclick="analyze()">Analyze</button>

<pre id="output"></pre>

<script>
async function analyze() {
  const repoUrl = document.getElementById("repo").value;

  const res = await fetch("/api/analyze", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ repoUrl })
  });

  const data = await res.json();

  let text = "";
  text += `Score: ${data.score} / 100\n\n`;
  text += `Summary:\n${data.summary}\n\n`;
  text += "Roadmap:\n";
  data.roadmap.forEach(r => {
    text += `- ${r}\n`;
  });

  document.getElementById("output").textContent = text;
}
</script>

</body>
</html>
